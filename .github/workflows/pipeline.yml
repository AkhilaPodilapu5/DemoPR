on: 
  pull_request: 
    types: [opened, synchronize]   

jobs: 

  build: 

    runs-on: ubuntu-latest 
    steps: 
    - name: Checkout code 
      uses: actions/checkout@v2 

   
    - name: Get PR diff 
      env:
         GH_TOKEN: ${{ github.token }}
      run: | 
        PR_ID=${{ github.event.number }}
        SOURCE_BRANCH=$(git show --no-patch --format='%H' "refs/pull/$PR_NUMBER/head")
        TARGET_BRANCH=$(git show --no-patch --format='%H' "refs/pull/$PR_NUMBER/base")
        gh pr diff PR_ID

